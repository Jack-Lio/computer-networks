#   实验一 共享和交换以太网组网技术
> 李伟     1711350     计算机科学与技术一班
 ----> 2019年10月18日 更新

- 实验环境说明：本实验基于仿真环境Cisco Packet Tracer ，实现对网络组网的模拟。
- 实验内容和目的：本实验包含共享以太网组网技术和交换式以太网组技术两个部分，实现对于多集线器级联和交换机级联的组网搭建，观察数据包的发送和处理过程，并设置VLAN进行虚拟局域网的设置。

## 1.  共享以太网组网技术实验
### 1.1 单集线器共享式以太网组网及连通性测试
在设备类型选择区选择网络设备中的集线器，将其拖入工作区，另外选择终端设备中的常规设备进入工作区，并设置两台终端的ip地址分别为192.168.02.88 和192.168.02.89，然后选择连接中的自动连接将终端分别和集线器相连，当连线两端都显示绿点表名连线成功，具体操作截图如下所示：

- 网络连接拓扑图截图
  ![网络连接拓扑图截图](D:\我的文件\乱七八糟的文件\Typora临时文件\1-1571484712781.PNG)

- IP地址设置操作截图
![3](D:\我的文件\乱七八糟的文件\Typora临时文件\3-1571484836910.PNG)
![4](D:\我的文件\乱七八糟的文件\Typora临时文件\4-1571484936127.PNG)

- Ping连接截图
![5PC0](D:\我的文件\乱七八糟的文件\Typora临时文件\5PC0.PNG)
![5PC1](D:\我的文件\乱七八糟的文件\Typora临时文件\5PC1.PNG)
> 可以看到ping连接正常，组网成功！

### 1.2  模拟方式下观察数据包的收发过程
点击工作区右下角的模式切换按钮，切换到模拟模式下，界面截图如下所示：

- 模拟模式界面截图
![6](D:\我的文件\乱七八糟的文件\Typora临时文件\6-1571485380565.PNG)

在命令行窗口中使用ping指令进行连通性测试，在模拟模式下可以单步跟踪数据包的发送过程。具体的实验过程截图如下：

- 数据包收发过程截图
![7](D:\我的文件\乱七八糟的文件\Typora临时文件\7-1571485649003.PNG)
![8](D:\我的文件\乱七八糟的文件\Typora临时文件\8-1571485653929.PNG)
![9](D:\我的文件\乱七八糟的文件\Typora临时文件\9-1571485675581.PNG)
![10](D:\我的文件\乱七八糟的文件\Typora临时文件\10-1571485681038.PNG)

> 上述的截图显示了一次连接的数据包收发全过程，数据包先从连接请求放发出，通过集线器的信号增强和广播转发，将数据包传递给接收终端，接收终端收到数据包后发送反馈数据包同样经过集线器回到请求方终端。

使用模拟模式下的forward和back按钮能够控制数据包的发送进度，从而进一步对数据包的发送进行细节的观察分析，具体操作截图如下所示：

- 数据包发送进度控制——back按钮功能
![18](D:\我的文件\乱七八糟的文件\Typora临时文件\18.PNG)

- auto play功能
![20](D:\我的文件\乱七八糟的文件\Typora临时文件\20.PNG)

- 查看OSI模型下的数据包发送过程
![C1](D:\我的文件\乱七八糟的文件\Typora临时文件\C1.PNG)

### 1.3  集线器级联共享式以太网组网
- 多集线器级联组网拓扑图
  ![MUL2](D:\我的文件\乱七八糟的文件\Typora临时文件\MUL2.PNG)

> 可以看到集线器之间的连接线为交叉线，集线器和终端之间的连线为直通线

- 数据包收发过程
![MUL3](D:\我的文件\乱七八糟的文件\Typora临时文件\MUL3.PNG)
![MUL4](D:\我的文件\乱七八糟的文件\Typora临时文件\MUL4-1571486874930.PNG)
![MUL5](D:\我的文件\乱七八糟的文件\Typora临时文件\MUL5.PNG)
![MUL6](D:\我的文件\乱七八糟的文件\Typora临时文件\MUL6.PNG)

> 从上述截图可以看出集线器不会对数据包进行过滤操作，而是直接进行广播，将数据包转发给共享网络中所有与之连接的设备。

## 2. 交换式以太网组网实验
### 2.1 单交换机组网
- 单交换机组网网络拓扑截图
![3-1](D:\我的文件\乱七八糟的文件\Typora临时文件\3-1.PNG)

实验中一共有七台终端设备，IP地址依次设置为192.168.02.88~192.168.02.94，其中pc0作为交换机的控制终端设备，pc1~pc4各自独占一个端口，pc5、pc6通过集线器组成一个共享式局域网，通过几次ping连通性尝试，交换机记录了各个端口终端的mac端口映射关系，通过命令`show mac-address-table`命令可以查看MAC-Address映射表，截图如下：

- ping连通性测试
![3-3](D:\我的文件\乱七八糟的文件\Typora临时文件\3-3.PNG)

- MAC-ADDRESS映射表
![3-2](D:\我的文件\乱七八糟的文件\Typora临时文件\3-2.PNG)

### 2.2 VLAN（虚拟局域网）设置

通过命令`vlan database `打开VLAN数据库维护模式，通过命令   `vlan 0002 name VLAN0002`添加一个名字为VLAN0002的VLAN，退出后使用命令  `show vlan`可以看到新增加了一个VLAN名为VLAN0002,截图如下：

- VLAN截图
![3-4 add vlan](D:\我的文件\乱七八糟的文件\Typora临时文件\3-4 add vlan.PNG)

使用命令`configure terminal `打开配置终端模式，使用`interface Fa0/1`设置配置端口号为1号端口，使用`switchport mode access `  	`switchport access Vlan 0002`将当前的配置端口分给VLAN0002，之后退出配置终端模式可以使用`show vlan`查看配置情况；

- VLAN配置截图
![3-4 new vlan](D:\我的文件\乱七八糟的文件\Typora临时文件\3-4 new vlan.PNG)

上图中可以看出终端的valn归属情况，之后通过ping命令可以测试vlan设置是否成功，测试如下所示。

- 相同VLANping通
![3-5 same vlan](D:\我的文件\乱七八糟的文件\Typora临时文件\3-5 same vlan.PNG)

- 不同VLANping连通失败
![3-5 diff vlan](D:\我的文件\乱七八糟的文件\Typora临时文件\3-5 diff vlan.PNG)


### 2.3 交换机级联组网&跨交换机VLAN设置

- 多交换机级联网络拓扑图
![3-6 mul-1](D:\我的文件\乱七八糟的文件\Typora临时文件\3-6 mul-1.png)

> 可以看出交换即之间的连接也是使用交叉线连接。

- 多交换机之间ping连通性测试（第一条ping命令）
![3-6 mul](D:\我的文件\乱七八糟的文件\Typora临时文件\3-6 mul-1571488615229.PNG)

- 跨交换机VLAN设置截图
![3-7](D:\我的文件\乱七八糟的文件\Typora临时文件\3-7.PNG)
![3-8](D:\我的文件\乱七八糟的文件\Typora临时文件\3-8-1571488764247.PNG)

上述截图中可以看出pc1 和pc2同属于一个VLAN，pc5、pc6、pc9同属于一个VLAN，因此进行ping测试有如下结果：

- 跨交换机VLAN测试截图（第2、3条ping命令）
![3-6 mul](D:\我的文件\乱七八糟的文件\Typora临时文件\3-6 mul-1571488928261.PNG)

> pc9对pc2发起ping命令请求失败，pc9对同属于一个VLAN的pc5发起ping命令请求成功，可以说明跨交换机VLAN设置成功。